(function(t){function e(e){for(var a,o,i=e[0],c=e[1],l=e[2],d=0,p=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&p.push(r[o][0]),r[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(p.length)p.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,i=1;i<n.length;i++){var c=n[i];0!==r[c]&&(a=!1)}a&&(s.splice(e--,1),t=o(o.s=n[0]))}return t}var a={},r={app:0},s=[];function o(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=a,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var a=n("85ec"),r=n.n(a);r.a},"0569":function(t,e,n){},1:function(t,e){},"1b5a":function(t,e,n){},2:function(t,e){},3:function(t,e){},"326b":function(t,e,n){"use strict";var a=n("810a"),r=n.n(a);r.a},"3ec0":function(t,e,n){"use strict";var a=n("d0cf"),r=n.n(a);r.a},"486c":function(t,e,n){},"52b5":function(t,e,n){"use strict";var a=n("eae1"),r=n.n(a);r.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("transition",{attrs:{name:"fade",mode:"out-in"}},[t.isSignedInGoogle&&t.isSignedInMetaMask?n("div",{attrs:{id:"main"}},[n("Header"),n("div",{staticClass:"container-fluid"},[n("div",{staticClass:"row"},[n("UserInfo"),n("TokenTables")],1)]),n("InfoModal",{ref:"imodal"}),n("PublishModal",{ref:"pmodal"}),n("svg",{staticClass:"svg-icon btn btn-outline-primary rounded-circle create-btn",attrs:{"data-toggle":"modal","data-target":"#publishModal",viewBox:"0 0 20 20"},on:{click:t.initModal}},[n("path",{attrs:{fill:"none",d:"M8.416,3.943l1.12-1.12v9.031c0,0.257,0.208,0.464,0.464,0.464c0.256,0,0.464-0.207,0.464-0.464V2.823l1.12,1.12c0.182,0.182,0.476,0.182,0.656,0c0.182-0.181,0.182-0.475,0-0.656l-1.744-1.745c-0.018-0.081-0.048-0.16-0.112-0.224C10.279,1.214,10.137,1.177,10,1.194c-0.137-0.017-0.279,0.02-0.384,0.125C9.551,1.384,9.518,1.465,9.499,1.548L7.76,3.288c-0.182,0.181-0.182,0.475,0,0.656C7.941,4.125,8.234,4.125,8.416,3.943z M15.569,6.286h-2.32v0.928h2.32c0.512,0,0.928,0.416,0.928,0.928v8.817c0,0.513-0.416,0.929-0.928,0.929H4.432c-0.513,0-0.928-0.416-0.928-0.929V8.142c0-0.513,0.416-0.928,0.928-0.928h2.32V6.286h-2.32c-1.025,0-1.856,0.831-1.856,1.856v8.817c0,1.025,0.832,1.856,1.856,1.856h11.138c1.024,0,1.855-0.831,1.855-1.856V8.142C17.425,7.117,16.594,6.286,15.569,6.286z"}})]),t.isLoading?n("div",{attrs:{id:"black-filter"}},[n("Spiner")],1):t._e()],1):n("StartPage")],1)],1)},s=[],o=(n("a4d3"),n("4de4"),n("4160"),n("e439"),n("dbb4"),n("b64b"),n("159b"),n("2fa7")),i=n("2f62");n("e01a"),n("d28b"),n("99af"),n("a15b"),n("fb6a"),n("0d03"),n("d3b7"),n("e25e"),n("ac1f"),n("25f0"),n("3ca3"),n("466d"),n("38cf"),n("5319"),n("ddb0");function c(t,e){var n="",a="",r=!0,s=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0){var l=i.value;a=encodeURI(l).replace(/%/g,""),n+=l==a?("0"+l.charCodeAt(0).toString(16)).substr(-2):a}}catch(u){s=!0,o=u}finally{try{r||null==c.return||c.return()}finally{if(s)throw o}}if(n.length>64*t)throw"String Length Over";return y(64*t,n)}function l(t){for(var e=t.join(""),n="",a=0;a<e.length;a++)a%2==0&&(n+="%"),n+=e.charAt(a);var r=decodeURI(n.replace(/%00/g,""));return r.replace(/%[0-9a-fA-F]{2}/g,(function(t){return String.fromCharCode("0x".concat(t.slice(1)))}))}function u(t){return y(64,parseInt(t).toString(16))}function d(t){return parseInt("0x"+t)}function p(t){return parseInt(t)%2==1}function f(t){return y(64,t.slice(2))}function g(t){return"0x".concat(t.slice(24))}function v(t){var e={Book:0,Art:1,Audio:2,Game:3};return u(e[t])}function b(t){var e=["Book","Art","Audio","Game"];return e[parseInt(t)]}function m(t){return y(64,t)}function h(t){return 64==t.length&&t.match(/[0-9a-fA-F]{64}/g)}function y(t,e){if(t<e.length)throw"Text Size Over";var n=t-e.length;return"".concat("0".repeat(n)).concat(e)}function w(t){if(t.slice(2).length%64!=0&&t.slice(10).length%64!=0)throw"Invalid resHex: ".concat(t);var e=t.slice(2).length%64!=0,n=[],a=e?t.slice(2,10):"",r=t.slice(e?10:2);if(r.length%64!=0)throw"Invalid resHex: ".concat(r);for(var s=0;s<r.length/64;s++)n.push(r.slice(64*s,64*(s+1)));return{head:a,body:n}}function O(t){var e={isExistUserData:"isExistUserData(address)",getUserData:"getUserData(address)",getDataforPermit:"getDataforPermit(address,bytes32)",getUserPublications:"getUserPublications(address)",getUserPurchased:"getUserPurchased(address)",isFavorite:"isFavorite(address,bytes32)",isPermitted:"isPermitted(address,bytes32)",setUserData:"setUserData(bytes32[2],bytes32[2])",publish:"publish(uint256,uint8,bytes32,bytes32[2],bytes32[2],bytes32[15])",buy:"buy(bytes32,uint256)",favo:"favo(bytes32)",permit:"permit(address,bytes32)",getTokenData:"getTokenData(bytes32)",getTokenOwners:"getTokenOwners(bytes32)",isReviewed:"isReviewed(address)",getStar:"getStar(address,address)",getComment:"getComment(address,address)",getReviewRate:"getReviewRate(address)",changeStar:"changeStar(address,uint8)",changeComment:"changeComment(address,bytes32,bytes32[15])",firstReview:"firstReview(address,uint8,bytes32,bytes32[15])",totalSupply:"totalSupply()",balanceOf:"balanceOf(address)",allowance:"allowance(address,address)",mint:"mint(uint256)",transfer:"transfer(address,uint256)",approve:"approve(address,uint256)",transferFrom:"transferFrom(address,address,uint256)"},a=n("d93c"),r="";return"undefined"==e[t]?console.log("".concat(t,": Not exist in Methods")):r=a(e[t]).toString("hex").slice(0,8),r}function x(t){return console.log("@@call_param"),console.log(t),new Promise((function(e,n){window.ethereum.send("eth_call",t).then((function(t){var a=t.result;C(a).then((function(t){n(t)})).catch((function(t){e(t.body)}))})).catch((function(t){n(t)}))}))}function k(t){return console.log("@@send_param"),console.log(t),new Promise((function(e,n){window.ethereum.send("eth_sendTransaction",t).then((function(t){var a=t.result;console.log("@@txHash"),console.log(a),C(a).then((function(t){console.log("@@errLog"),console.log(t),n(t)})).catch((function(t){var a=t.body[0];console.log("@@pending"),_(a).then((function(t){"0x1"==t.status?e(t):n(t)})).catch((function(t){n(t)}))}))})).catch((function(t){console.log("@@send_err"),console.log(t),n(t)}))}))}function C(t){return new Promise((function(e,n){if("0x"==t)e("Error");else{var a=w(t);if("08c379a0"==a.head.toLowerCase()){var r=j(a.body);e("Error: ".concat(r))}else n(a)}}))}function j(t){return l(t.slice(2))}function _(t){return console.log("@@in waitPending"),console.log(t),new Promise((function(e,n){window.ethereum.send("eth_getTransactionReceipt",["0x".concat(t)]).then((function(n){var a=n.result;null==a?setTimeout((function(){e(_(t))}),1e3):e(a)})).catch((function(t){console.log("@@Invalid param"),n(t)}))}))}function P(t){var e=[];return new Promise((function(n,a){window.ethereum.send("eth_getLogs",t).then((function(t){var a=!0,r=!1,s=void 0;try{for(var o,i=t.result[Symbol.iterator]();!(a=(o=i.next()).done);a=!0){var c=o.value;e.push(c.topics)}}catch(l){r=!0,s=l}finally{try{a||null==i.return||i.return()}finally{if(r)throw s}}n(e)})).catch((function(t){a(t)}))}))}var S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"list-group list-group-horizontal",attrs:{id:"eth-test"}},[n("li",{staticClass:"list-group-item test-sec"},[n("div",{staticClass:"card"},[n("h5",{staticClass:"card-title"},[t._v("aaa")]),n("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.hogege()}}},[t._v("callEvent")])])])])},R=[];n("96cf");function M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function D(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?M(n,!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var E={name:"EthTest",components:{},computed:D({},Object(i["d"])([])),methods:D({},Object(i["c"])([]),{},Object(i["b"])(["loginMetaMask"]),{test:T}),data:function(){return{isPending:!1,text:""}},created:function(){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}))}};function T(){alert("TEST")}var A=E,G=(n("3ec0"),n("2877")),I=Object(G["a"])(A,S,R,!1,null,"58c2a3d6",null),F=(I.exports,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"start",transition:"expand"}},[t._m(0),n("ul",{attrs:{id:"buttons"}},[n("li",{staticClass:"login-form"},[n("GoogleButton")],1),n("li",{staticClass:"login-form"},[n("MetaMaskButton")],1)])])}),L=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"kakomi-box11"},[n("h1",[n("span",{staticClass:"title-box11"},[t._v("Welcome")])]),n("div",{attrs:{id:"description"}},[n("p",[t._v("説明文")]),n("p",[t._v("ボタン2つ（Google, MetaMask）")]),n("p",[t._v("ボタンの下にログイン状況（Googleは判定可能、MetaMaskは拡張機能の有無しかわからない）")]),n("p",[t._v("Etherがない方は"),n("a",{attrs:{target:"_blank",href:"https://faucet.metamask.io/"}},[t._v("こちら")]),t._v("からFaucetを取得できます")])])])}],$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"btn-google",attrs:{disable:t.isSignedInGoogle,type:"button"},on:{click:t.loginGoogle}},[n("span",{staticClass:"btn-google__icon"},[n("svg",{attrs:{viewBox:"0 0 366 372"}},[n("path",{attrs:{d:"M125.9 10.2c40.2-13.9 85.3-13.6 125.3 1.1 22.2 8.2 42.5 21 59.9 37.1-5.8 6.3-12.1 12.2-18.1 18.3l-34.2 34.2c-11.3-10.8-25.1-19-40.1-23.6-17.6-5.3-36.6-6.1-54.6-2.2-21 4.5-40.5 15.5-55.6 30.9-12.2 12.3-21.4 27.5-27 43.9-20.3-15.8-40.6-31.5-61-47.3 21.5-43 60.1-76.9 105.4-92.4z",id:"Shape",fill:"#EA4335"}}),n("path",{attrs:{d:"M20.6 102.4c20.3 15.8 40.6 31.5 61 47.3-8 23.3-8 49.2 0 72.4-20.3 15.8-40.6 31.6-60.9 47.3C1.9 232.7-3.8 189.6 4.4 149.2c3.3-16.2 8.7-32 16.2-46.8z",id:"Shape",fill:"#FBBC05"}}),n("path",{attrs:{d:"M361.7 151.1c5.8 32.7 4.5 66.8-4.7 98.8-8.5 29.3-24.6 56.5-47.1 77.2l-59.1-45.9c19.5-13.1 33.3-34.3 37.2-57.5H186.6c.1-24.2.1-48.4.1-72.6h175z",id:"Shape",fill:"#4285F4"}}),n("path",{attrs:{d:"M81.4 222.2c7.8 22.9 22.8 43.2 42.6 57.1 12.4 8.7 26.6 14.9 41.4 17.9 14.6 3 29.7 2.6 44.4.1 14.6-2.6 28.7-7.9 41-16.2l59.1 45.9c-21.3 19.7-48 33.1-76.2 39.6-31.2 7.1-64.2 7.3-95.2-1-24.6-6.5-47.7-18.2-67.6-34.1-20.9-16.6-38.3-38-50.4-62 20.3-15.7 40.6-31.5 60.9-47.3z",fill:"#34A853"}})])]),t.isSignedInGoogle?n("span",{staticClass:"btn-google__text disable"},[t._v("Signed")]):n("span",{staticClass:"btn-google__text"},[t._v("Sign in with Google")])])},N=[];function U(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function B(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?U(n,!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var z={name:"GoogleButton",components:{},computed:B({},Object(i["d"])(["isSignedInGoogle"])),methods:B({},Object(i["c"])([]),{},Object(i["b"])(["loginGoogle"]))},H=z,J=(n("dcce"),Object(G["a"])(H,$,N,!1,null,"01fce184",null)),q=J.exports,W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"btn-metamask",attrs:{disable:t.isSignedInMetaMask,type:"button"},on:{click:t.loginMetaMask}},[n("span",{staticClass:"btn-metamask__icon"},[n("svg",{attrs:{viewBox:"0 0 360 360"}},[n("polygon",{staticClass:"st0",attrs:{points:"274.1,35.5 174.6,109.4 193,65.8 "}}),n("g",[n("polygon",{staticClass:"st1",attrs:{points:"44.4,35.5 143.1,110.1 125.6,65.8   "}}),n("polygon",{staticClass:"st1",attrs:{points:"238.3,206.8 211.8,247.4 268.5,263 284.8,207.7   "}}),n("polygon",{staticClass:"st1",attrs:{points:"33.9,207.7 50.1,263 106.8,247.4 80.3,206.8   "}}),n("polygon",{staticClass:"st1",attrs:{points:"103.6,138.2 87.8,162.1 144.1,164.6 142.1,104.1   "}}),n("polygon",{staticClass:"st1",attrs:{points:"214.9,138.2 175.9,103.4 174.6,164.6 230.8,162.1   "}}),n("polygon",{staticClass:"st1",attrs:{points:"106.8,247.4 140.6,230.9 111.4,208.1   "}}),n("polygon",{staticClass:"st1",attrs:{points:"177.9,230.9 211.8,247.4 207.1,208.1   "}})]),n("g",[n("polygon",{staticClass:"st2",attrs:{points:"211.8,247.4 177.9,230.9 180.6,253 180.3,262.3   "}}),n("polygon",{staticClass:"st2",attrs:{points:"106.8,247.4 138.3,262.3 138.1,253 140.6,230.9   "}})]),n("polygon",{staticClass:"st3",attrs:{points:"138.8,193.5 110.6,185.2 130.5,176.1 "}}),n("polygon",{staticClass:"st3",attrs:{points:"179.7,193.5 188,176.1 208,185.2 "}}),n("g",[n("polygon",{staticClass:"st4",attrs:{points:"106.8,247.4 111.6,206.8 80.3,207.7   "}}),n("polygon",{staticClass:"st4",attrs:{points:"207,206.8 211.8,247.4 238.3,207.7   "}}),n("polygon",{staticClass:"st4",attrs:{points:"230.8,162.1 174.6,164.6 179.8,193.5 188.1,176.1 208.1,185.2   "}}),n("polygon",{staticClass:"st4",attrs:{points:"110.6,185.2 130.6,176.1 138.8,193.5 144.1,164.6 87.8,162.1   "}})]),n("g",[n("polygon",{staticClass:"st5",attrs:{points:"87.8,162.1 111.4,208.1 110.6,185.2   "}}),n("polygon",{staticClass:"st5",attrs:{points:"208.1,185.2 207.1,208.1 230.8,162.1   "}}),n("polygon",{staticClass:"st5",attrs:{points:"144.1,164.6 138.8,193.5 145.4,227.6 146.9,182.7   "}}),n("polygon",{staticClass:"st5",attrs:{points:"174.6,164.6 171.9,182.6 173.1,227.6 179.8,193.5   "}})]),n("polygon",{staticClass:"st6",attrs:{points:"179.8,193.5 173.1,227.6 177.9,230.9 207.1,208.1 208.1,185.2 "}}),n("polygon",{staticClass:"st6",attrs:{points:"110.6,185.2 111.4,208.1 140.6,230.9 145.4,227.6 138.8,193.5 "}}),n("polygon",{staticClass:"st7",attrs:{points:"180.3,262.3 180.6,253 178.1,250.8 140.4,250.8 138.1,253 138.3,262.3 106.8,247.4 117.8,256.4\n        140.1,271.9 178.4,271.9 200.8,256.4 211.8,247.4 "}}),n("polygon",{staticClass:"st8",attrs:{points:"177.9,230.9 173.1,227.6 145.4,227.6 140.6,230.9 138.1,253 140.4,250.8 178.1,250.8 180.6,253 "}}),n("g",[n("polygon",{staticClass:"st9",attrs:{points:"278.3,114.2 286.8,73.4 274.1,35.5 177.9,106.9 214.9,138.2 267.2,153.5 278.8,140 273.8,136.4\n          281.8,129.1 275.6,124.3 283.6,118.2   "}}),n("polygon",{staticClass:"st9",attrs:{points:"31.8,73.4 40.3,114.2 34.9,118.2 42.9,124.3 36.8,129.1 44.8,136.4 39.8,140 51.3,153.5 103.6,138.2\n          140.6,106.9 44.4,35.5   "}})]),n("polygon",{staticClass:"st6",attrs:{points:"267.2,153.5 214.9,138.2 230.8,162.1 207.1,208.1 238.3,207.7 284.8,207.7 "}}),n("polygon",{staticClass:"st6",attrs:{points:"103.6,138.2 51.3,153.5 33.9,207.7 80.3,207.7 111.4,208.1 87.8,162.1 "}}),n("polygon",{staticClass:"st6",attrs:{points:"174.6,164.6 177.9,106.9 193.1,65.8 125.6,65.8 140.6,106.9 144.1,164.6 145.3,182.8 145.4,227.6\n        173.1,227.6 173.3,182.8 "}})])]),t.isSignedInMetaMask?n("span",{staticClass:"btn-metamask__text"},[t._v("Signed")]):n("span",{staticClass:"btn-metamask__text"},[t._v("Sign in with MetaMask")])])},K=[];function V(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function Z(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?V(n,!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Q={name:"MetaMaskButton",components:{},computed:Z({},Object(i["d"])(["isSignedInMetaMask"])),methods:Z({},Object(i["c"])([]),{},Object(i["b"])(["loginMetaMask"]))},X=Q,Y=(n("b20f"),Object(G["a"])(X,W,K,!1,null,"2579c310",null)),tt=Y.exports;function et(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function nt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?et(n,!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):et(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var at={name:"StartPage",components:{GoogleButton:q,MetaMaskButton:tt},computed:nt({},Object(i["d"])(["isSignedInGoogle","isSignedInMetaMask"])),methods:nt({},Object(i["c"])([]),{},Object(i["b"])([]))},rt=at,st=(n("e7b4"),Object(G["a"])(rt,F,L,!1,null,"4b695790",null)),ot=st.exports,it=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},ct=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"navbar navbar-light bg-light"},[a("a",{staticClass:"navbar-brand"},[a("img",{staticClass:"d-inline-block align-top",attrs:{src:n("cf05"),width:"30",height:"30",alt:""}}),t._v(" ComicMarketChain ")])])}];function lt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function ut(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?lt(n,!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lt(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var dt={name:"Header",components:{},computed:ut({},Object(i["d"])([])),methods:ut({},Object(i["c"])(["tableReset","loading"]),{},Object(i["b"])(["initialLoad"])),data:function(){return{}},created:function(){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return this.loading(!0),t.next=3,regeneratorRuntime.awrap(this.initialLoad());case 3:return t.next=5,regeneratorRuntime.awrap(this.tableReset());case 5:this.loading(!1);case 6:case"end":return t.stop()}}),null,this)}},pt=dt,ft=(n("326b"),Object(G["a"])(pt,it,ct,!1,null,"be4b1dfc",null)),gt=ft.exports,vt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal fade",attrs:{id:"publishModal",tabindex:"-1",role:"dialog","aria-labelledby":"publishModalTitle","aria-hidden":"true"}},[n("div",{staticClass:"modal-dialog modal-dialog-centered modal-lg",attrs:{role:"document"}},[n("div",{staticClass:"modal-content"},[t._m(0),n("div",{staticClass:"modal-body"},[n("div",{ref:"holder",staticClass:"card dd"},[t.file?n("span",[t._v(t._s(t.file?t.file.name:""))]):n("label",{staticClass:"alt-input",attrs:{for:"fileInput"}},[t._v(" ファイルを選択、またはドラッグアンドドロップ "),n("input",{attrs:{id:"fileInput",type:"file"},on:{change:t.fileSelect}})])]),n("div",{staticClass:"container"},[n("div",{staticClass:"input-group"},[t._m(1),n("input",{directives:[{name:"model",rawName:"v-model",value:t.inStr.title,expression:"inStr.title"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.inStr.title},on:{input:function(e){e.target.composing||t.$set(t.inStr,"title",e.target.value)}}})]),n("div",{staticClass:"input-group"},[n("span",{staticClass:"input-group-text"},[t._v("Price")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.inStr.price,expression:"inStr.price"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.inStr.price},on:{input:function(e){e.target.composing||t.$set(t.inStr,"price",e.target.value)}}})]),n("div",{staticClass:"input-group"},[n("span",{staticClass:"input-group-text"},[t._v("Genre")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.inStr.genre,expression:"inStr.genre"}],staticClass:"form-control",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.inStr,"genre",e.target.multiple?n:n[0])}}},[n("option",[t._v("Book")]),n("option",[t._v("Art")]),n("option",[t._v("Audio")]),n("option",[t._v("Game")])])]),n("div",{staticClass:"input-group"},[n("span",{staticClass:"input-group-text"},[t._v("Origin "),n("font",{staticStyle:{color:"red"}},[t._v(t._s(t.count.origin))])],1),n("input",{directives:[{name:"model",rawName:"v-model",value:t.inStr.origin,expression:"inStr.origin"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.inStr.origin},on:{input:[function(e){e.target.composing||t.$set(t.inStr,"origin",e.target.value)},function(e){return t.check("origin")}]}})]),n("div",{staticClass:"input-group"},[n("span",{staticClass:"input-group-text"},[t._v("Description")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.inStr.desc,expression:"inStr.desc"}],staticClass:"form-control",attrs:{rows:"3"},domProps:{value:t.inStr.desc},on:{input:function(e){e.target.composing||t.$set(t.inStr,"desc",e.target.value)}}})])])]),n("div",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.publishData}},[t._v("Publish")]),n("button",{staticClass:"btn btn-info",attrs:{type:"button"},on:{click:t.upload}},[t._v("Test")])])])])])},bt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal-header"},[n("h5",{staticClass:"modal-title",attrs:{id:"publishModalTitle"}},[t._v("Publish New Token")]),n("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"input-group-prepend"},[n("span",{staticClass:"input-group-text"},[t._v("Title")])])}];n("b0c0");function mt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function ht(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?mt(n,!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mt(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var yt={name:"PublishModal",components:{},computed:ht({},Object(i["d"])(["user","const","userGdf"])),methods:ht({},Object(i["c"])(["assign","loading","tableReset"]),{},Object(i["b"])(["loadPublications","loadRecent"]),{publishData:xt,initData:kt,test:Ct,getMetaDate:jt,checkGet:_t,checkPost:Pt,upload:St,fileSelect:wt,check:Ot}),data:function(){return{inStr:{title:"",price:0,genre:"",desc:"",origin:""},file:null,count:{title:0,price:0,genre:0,desc:0,origin:0}}},mounted:function(){var t=this;this.$refs.holder.ondragover=function(){return!1},this.$refs.holder.ondragleave=function(){return!1},this.$refs.holder.ondragend=function(){return!1},this.$refs.holder.ondrop=function(e){return e.preventDefault(),t.file=e.dataTransfer.files[0],t.file?console.log(t.file):alert("Please Drop PDF File"),!1}}};function wt(t){t.preventDefault(),this.file=t.target.files[0]}function Ot(t){this.count[t]=this.inStr[t].length}function xt(){var t,e,n;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return t=null,e=h(this.inStr.origin)?this.inStr.origin:"0".repeat(64),a.prev=2,this.loading(!0),a.next=6,regeneratorRuntime.awrap(this.userGdf.writeFile("CMC/".concat(this.file.name),this.file.type,this.file));case 6:return n=a.sent,t=n.id,a.next=10,regeneratorRuntime.awrap(k([{from:this.user.address,to:this.const.contractAddr,data:"0x".concat(O("publish")).concat(u(this.inStr.price)).concat(v(this.inStr.genre)).concat(e).concat(c(2,t)).concat(c(2,this.inStr.title)).concat(c(15,this.inStr.desc))}]));case 10:return n=a.sent,this.loading(!1),a.next=14,regeneratorRuntime.awrap(this.loadPublications());case 14:return a.next=16,regeneratorRuntime.awrap(this.loadRecent());case 16:this.tableReset(),a.next=26;break;case 19:if(a.prev=19,a.t0=a["catch"](2),t){a.next=24;break}return a.next=24,regeneratorRuntime.awrap(this.userGdf.unlink("CMC/".concat(this.file.name)));case 24:this.loading(!1),console.log(a.t0);case 26:case"end":return a.stop()}}),null,this,[[2,19]])}function kt(){this.inStr.title="",this.inStr.price=0,this.inStr.genre="",this.inStr.desc="",this.file=null,this.noFile=!0}function Ct(){this.userGdf.readdir(this.userGdf.cwd()).then((function(t){console.log(t)}))}function jt(t){this.userGdf.stat(t).then((function(t){console.log(t)}))}function _t(){this.userGdf.requestWithAuth("GET","https://www.googleapis.com/drive/v3/about",{fields:"user"}).then((function(t){console.log(t)}))}function Pt(){var t="1XoGtZzaYgZJ26sv8-iF3sRWOHVKLq9Kw",e={role:"reader",type:"user",emailAddress:"yosuke0923@gmail.com"};this.userGdf.requestWithAuth("POST","https://www.googleapis.com/drive/v3/files/".concat(t,"/permissions"),{},{"Content-Type":"application/json"},JSON.stringify(e)).then((function(t){console.log(t)}))}function St(){this.userGdf.writeFile("/".concat(this.file.name),this.file.type,this.file).then((function(t){console.log(t),console.log(t.id)})).catch((function(t){console.log(t)}))}var Rt=yt,Mt=(n("9f66"),Object(G["a"])(Rt,vt,bt,!1,null,"eba4a670",null)),Dt=Mt.exports,Et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal fade-scale",attrs:{id:"infoModal",tabindex:"-1",role:"dialog","aria-labelledby":"infoModalTitle","aria-hidden":"true"}},[n("div",{staticClass:"modal-dialog modal-dialog-centered modal-lg",attrs:{role:"document"}},[n("div",{staticClass:"modal-content"},[t._m(0),n("div",{staticClass:"modal-body card"},[n("div",{staticClass:"card-body"},[n("div",{staticClass:"kakomi-box11"},[n("span",{staticClass:"title-box11"},[t._v("Title")]),t._v(" "+t._s(t.viewToken.title)+" ")]),n("div",{staticClass:"kakomi-box11"},[n("span",{staticClass:"title-box11"},[t._v("Creater")]),t._v(" "+t._s(t.viewToken.creater)+" ")]),n("div",{staticClass:"kakomi-box11"},[n("span",{staticClass:"title-box11"},[t._v("Token ID")]),t._v(" "+t._s(t.viewToken.id)+" ")]),""!=t.viewToken.origin?n("div",{staticClass:"kakomi-box11"},[n("span",{staticClass:"title-box11"},[t._v("Origin")]),t._v(" "+t._s(t.viewToken.origin)+" ")]):t._e(),""!=t.viewToken.subFile?n("div",{staticClass:"kakomi-box11"},[n("span",{staticClass:"title-box11"},[t._v("Sample File")]),t._v(" "+t._s(t.viewToken.subFile)+" ")]):t._e(),n("div",{staticClass:"kakomi-box11"},[n("span",{staticClass:"title-box11"},[t._v("Description")]),t._v(" "+t._s(t.viewToken.desc)+" ")])])]),n("div",{staticClass:"modal-footer"},[n("svg",{staticClass:"svg-icon btn btn-outline-warning rounded-circle",attrs:{id:"favo-btn",disabled:t.favos.includes(t.viewToken.id),viewBox:"0 0 20 20"},on:{click:t.favor2}},[n("path",{attrs:{fill:"none",d:"M16.85,7.275l-3.967-0.577l-1.773-3.593c-0.208-0.423-0.639-0.69-1.11-0.69s-0.902,0.267-1.11,0.69L7.116,6.699L3.148,7.275c-0.466,0.068-0.854,0.394-1,0.842c-0.145,0.448-0.023,0.941,0.314,1.27l2.871,2.799l-0.677,3.951c-0.08,0.464,0.112,0.934,0.493,1.211c0.217,0.156,0.472,0.236,0.728,0.236c0.197,0,0.396-0.048,0.577-0.143l3.547-1.864l3.548,1.864c0.18,0.095,0.381,0.143,0.576,0.143c0.256,0,0.512-0.08,0.729-0.236c0.381-0.277,0.572-0.747,0.492-1.211l-0.678-3.951l2.871-2.799c0.338-0.329,0.459-0.821,0.314-1.27C17.705,7.669,17.316,7.343,16.85,7.275z M13.336,11.754l0.787,4.591l-4.124-2.167l-4.124,2.167l0.788-4.591L3.326,8.5l4.612-0.67l2.062-4.177l2.062,4.177l4.613,0.67L13.336,11.754z"}})]),n("div",{staticClass:"input-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.payAmount,expression:"payAmount"}],staticClass:"form-control",attrs:{type:"number",min:t.viewToken.price,placeholder:t.viewToken.price,required:""},domProps:{value:t.payAmount},on:{input:function(e){e.target.composing||(t.payAmount=e.target.value)}}}),n("div",{staticClass:"input-group-append"},[n("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button"},on:{click:t.purchase}},[t._v("Purchase")])])])])])])])},Tt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal-header"},[n("h5",{staticClass:"modal-title",attrs:{id:"infoModalTitle"}},[t._v("Token Information")]),n("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}];function At(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function Gt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?At(n,!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):At(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var It={name:"InfoModal",components:{},computed:Gt({},Object(i["d"])(["viewToken","user","const","favos"])),methods:Gt({},Object(i["c"])(["loading","tableReset","setFavo"]),{},Object(i["b"])(["loadPurchases","loadFavorites2","loadRecent"]),{favor:Lt,favor2:$t,purchase:Ft}),updated:function(){},data:function(){return{payAmount:0}}};function Ft(){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.loading(!0),t.next=4,regeneratorRuntime.awrap(k([{from:this.user.address,to:this.const.contractAddr,data:"0x".concat(O("buy")).concat(this.viewToken.id).concat(u(this.payAmount))}]));case 4:return this.loading(!1),t.next=7,regeneratorRuntime.awrap(this.loadPurchases());case 7:return t.next=9,regeneratorRuntime.awrap(this.loadRecent());case 9:this.tableReset(),t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](0),this.loading(!1),console.log(t.t0);case 16:case"end":return t.stop()}}),null,this,[[0,12]])}function Lt(){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.loading(!0),t.next=4,regeneratorRuntime.awrap(k([{from:this.user.address,to:this.const.contractAddr,data:"0x".concat(O("favo")).concat(this.viewToken.id)}]));case 4:return this.loading(!1),t.next=7,regeneratorRuntime.awrap(this.loadFavorites());case 7:return t.next=9,regeneratorRuntime.awrap(this.loadRecent());case 9:this.tableReset(),t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](0),this.loading(!1),console.log(t.t0);case 16:case"end":return t.stop()}}),null,this,[[0,12]])}function $t(){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.setFavo(this.viewToken.id),t.next=4,regeneratorRuntime.awrap(this.loadFavorites2());case 4:return t.next=6,regeneratorRuntime.awrap(this.loadRecent());case 6:this.tableReset(),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:case"end":return t.stop()}}),null,this,[[0,9]])}var Nt=It,Ut=(n("7442"),Object(G["a"])(Nt,Et,Tt,!1,null,"21eab137",null)),Bt=Ut.exports,zt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-8",attrs:{id:"tokens"}},[n("ul",{staticClass:"nav nav-tabs nav-fill"},[n("li",{staticClass:"nav-item"},[n("a",{class:[{active:"recent"==t.mode},"nav-link"],on:{click:function(e){return t.change("recent")}}},[t._v("Recent")])]),n("li",{staticClass:"nav-item"},[n("a",{class:[{active:"publications"==t.mode},"nav-link"],on:{click:function(e){return t.change("publications")}}},[t._v("Publications")])]),n("li",{staticClass:"nav-item"},[n("a",{class:[{active:"purchases"==t.mode},"nav-link"],on:{click:function(e){return t.change("purchases")}}},[t._v("Purchases")])]),n("li",{staticClass:"nav-item"},[n("a",{class:[{active:"favorites"==t.mode},"nav-link"],on:{click:function(e){return t.change("favorites")}}},[t._v("Favorites")])])]),n("Table",{attrs:{mode:t.mode}})],1)},Ht=[],Jt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",t._l(t.tokenList,(function(e,a){return n("li",{key:a},[n("div",{staticClass:"card",attrs:{"data-toggle":"modal","data-target":"#infoModal"},on:{click:function(n){return t.select(e)}}},[n("div",{staticClass:"card-body"},[n("h5",{staticClass:"card-title"},[t._v(t._s(e.title))]),n("h6",{staticClass:"card-subtitle mb-2 text-muted"},[t._v(t._s(e.genre))]),n("p",{staticClass:"card-text desc"},[t._v(t._s(e.desc))])])])])})),0)},qt=[];function Wt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function Kt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Wt(n,!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wt(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Vt={name:"Table",components:{},computed:Kt({},Object(i["d"])(["mode","tokens"])),methods:Kt({},Object(i["c"])(["assign","loading"]),{},Object(i["b"])([]),{select:Zt}),data:function(){return{tokenList:[]}},watch:{mode:function(t,e){console.log("@@changed"),console.log("".concat(e,"->").concat(t)),t!=e&&(this.tokenList=this.tokens[t])}}};function Zt(t){console.log("Hello, This is ".concat(t)),this.assign({k:"viewToken",v:t})}var Qt=Vt,Xt=(n("75b0"),Object(G["a"])(Qt,Jt,qt,!1,null,"33441f23",null)),Yt=Xt.exports;function te(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function ee(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?te(n,!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):te(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ne={name:"TokenTables",components:{Table:Yt},computed:ee({},Object(i["d"])(["user","const","mode"])),methods:ee({},Object(i["c"])(["assign","loading"]),{},Object(i["b"])([]),{change:ae}),data:function(){return{}},mounted:function(){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}))}};function ae(t){console.log(t),this.assign({k:"mode",v:t})}var re=ne,se=(n("fa1a"),Object(G["a"])(re,zt,Ht,!1,null,null,null)),oe=se.exports,ie=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-4",attrs:{id:"user-info"}},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-body"},[t._m(0),n("div",{staticClass:"box27"},[n("span",{staticClass:"box-title"},[t._v("Name")]),t.isEditMode?n("input",{directives:[{name:"model",rawName:"v-model",value:t.tempName,expression:"tempName"}],staticClass:"card-text",domProps:{value:t.tempName},on:{input:function(e){e.target.composing||(t.tempName=e.target.value)}}}):n("p",[t._v(t._s(t.gettedName))])]),n("div",{staticClass:"box27"},[n("span",{staticClass:"box-title"},[t._v("Gmail")]),t.isEditMode?n("input",{directives:[{name:"model",rawName:"v-model",value:t.tempGmail,expression:"tempGmail"}],staticClass:"card-text",domProps:{value:t.tempGmail},on:{input:function(e){e.target.composing||(t.tempGmail=e.target.value)}}}):n("p",[t._v(t._s(t.gettedGmail))])]),n("div",{staticClass:"btn-toolbar",attrs:{role:"toolbar"}},[n("button",{class:"btn btn-"+(t.isEditMode?"secondary":"outline-primary"),on:{click:t.toggleEdit}},[t._v(t._s(t.isEditMode?"Cancel":"Edit"))]),t.isEditMode?n("button",{staticClass:"btn btn-outline-primary",on:{click:function(e){return t.saveChange(t.tempName,t.tempGmail)}}},[t._v("Save")]):t._e()])])]),n("div",{staticClass:"card"},[n("div",{staticClass:"card-body"},[t._m(1),n("div",{staticClass:"box27"},[n("span",{staticClass:"box-title"},[t._v("Gmail")]),n("p",[t._v(t._s(t.user.gmail))])]),n("div",{staticClass:"box27"},[n("span",{staticClass:"box-title"},[t._v("Ethereum Address")]),n("p",[t._v(t._s(t.user.address))])])])]),n("div",{staticClass:"card"},[n("div",{staticClass:"card-body"},[t._m(2),n("div",{staticClass:"input-group mb-3"},[n("div",{staticClass:"input-group-prepend"},[n("span",{staticClass:"input-group-text"},[t._v(t._s(t.user.balance))])]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.mintAmount,expression:"mintAmount"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.mintAmount},on:{input:function(e){e.target.composing||(t.mintAmount=e.target.value)}}}),n("div",{staticClass:"input-group-append"},[n("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:function(e){return t.mint(t.mintAmount)}}},[t._v("Mint")])])])])])])},ce=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h5",{staticClass:"card-title"},[n("p",[n("strong",[t._v("User Data (on chain)")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h5",{staticClass:"card-title"},[n("p",[n("strong",[t._v("User Data (used login)")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h5",{staticClass:"card-title"},[n("p",[n("strong",[t._v("CMC Coin")])])])}];function le(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function ue(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?le(n,!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):le(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var de={name:"UserInfo",components:{},computed:ue({},Object(i["d"])(["user","const"])),methods:ue({},Object(i["c"])(["assign","loading"]),{},Object(i["b"])(["getMyData"]),{mint:pe,toggleEdit:function(){this.tempName=this.gettedName,this.tempGmail=this.gettedGmail,this.isEditMode=!this.isEditMode},saveChange:fe}),data:function(){return{mintAmount:0,isEditMode:!1,tempName:"",tempGmail:"",gettedName:"",gettedGmail:""}},updated:function(){this.gettedName=this.user.name,this.gettedGmail=this.user.gmail}};function pe(t){return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.loading(!0),e.next=4,regeneratorRuntime.awrap(k([{from:this.user.address,to:this.const.contractAddr,data:"0x".concat(O("mint")).concat(u(t))}]));case 4:return e.next=6,regeneratorRuntime.awrap(this.getMyData());case 6:this.loading(!1),e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](0),this.loading(!1),console.log(e.t0);case 13:case"end":return e.stop()}}),null,this,[[0,9]])}function fe(t,e){return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:if(t!=this.user.name||e!=this.user.gmail){n.next=4;break}console.log("No change"),n.next=16;break;case 4:return n.prev=4,this.loading(!0),n.next=8,regeneratorRuntime.awrap(k([{from:this.user.address,to:this.const.contractAddr,data:"0x".concat(O("setUserData")).concat(c(2,t)).concat(c(2,e))}]));case 8:this.getMyData(),this.loading(!1),n.next=16;break;case 12:n.prev=12,n.t0=n["catch"](4),this.loading(!1),console.log(n.t0);case 16:this.isEditMode=!1;case 17:case"end":return n.stop()}}),null,this,[[4,12]])}var ge=de,ve=(n("aa8e"),Object(G["a"])(ge,ie,ce,!1,null,"0f43b482",null)),be=ve.exports,me=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"loader"},[t._v("Loading...")])},he=[],ye={name:"Spiner"},we=ye,Oe=(n("52b5"),Object(G["a"])(we,me,he,!1,null,null,null)),xe=Oe.exports;function ke(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function Ce(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ke(n,!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ke(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var je={name:"app",components:{StartPage:ot,Header:gt,PublishModal:Dt,InfoModal:Bt,TokenTables:oe,UserInfo:be,Spiner:xe},computed:Ce({},Object(i["d"])(["isSignedInGoogle","isSignedInMetaMask","isLoading"])),methods:Ce({},Object(i["c"])([]),{},Object(i["b"])([]),{hello:_e,initModal:Pe}),data:function(){return{}},created:function(){}};function _e(){console.log("Hello!"),alert("Hello")}function Pe(){this.$refs.pmodal.initData()}var Se=je,Re=(n("034f"),Object(G["a"])(Se,r,s,!1,null,null,null)),Me=Re.exports,De=(n("d81d"),n("26e9"),n("f433"));a["a"].use(i["a"]);var Ee=new i["a"].Store({state:{const:{eventSel:{Publish:"248252243fae52606913ae1d9692fda220805f08529d3d7113b5eaec567dc016",Purchase:"04c64dac69bd2cf3ab7d441b51a74c4c9db4c23451500d1b0bff3f195334ac79",Favorite:"528d01ae859e1c0df20c0152ee7f8e70bb54b167dd30c5fb0d7683a6695e8630",Permit:"04659db9a2a2dce78519431d87b65ccbd361d66546162254d709850917cc296b",Inherit:"89fb27ef3732f5b45ae4d18a9f22787b7b6c7e5b50eeeacba6703d849619c736",Stared:"e1086ab88f28c019fed6bfdbf051550c1e917498f7b4a130397e2661ffb84726",Commented:"b1a9ce5ca23bc3707cf5cdb6b8bf23ca6018df6024ad726af4fe655036f7e8c9",Transfer:"ddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef",Approval:"8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925"},contractAddr:"0xf7E68420B498de515168c40Bd14A72a01e5A4E0e",clientID:"803887283250-43ght1ut8tbd7kphlbfa958om341afai.apps.googleusercontent.com",APIKey:"AIzaSyAdU5OmqP8gsrSOTR36ooSbkhrbCM0IQ2E"},user:{name:"",address:"",gmail:"",gmailOnChain:"",balance:0},isSignedInGoogle:!1,isSignedInMetaMask:!1,isLoading:!1,userGdf:null,tokens:{publications:[],purchases:[],favorites:[],recent:[]},mode:"",favos:[],viewToken:{id:"",creater:"",price:"",genre:"",origin:"",title:"",mainFile:"",subFile:"",desc:"",isFavor:""}},mutations:{assign:function(t,e){t[e.k]=e.v},assign2:function(t,e){t[e.k1][e.k2]=e.v},loading:function(t,e){t.isLoading=e},tableReset:function(t){console.log("@@called resetTable"),t.mode="none",t.mode="recent"},setFavo:function(t,e){t.favos.push(e),localStorage.setItem("favoList",JSON.stringify(t.favos))},getFavo:function(t){localStorage.favoList&&(t.favos=JSON.parse(localStorage.favoList))}},actions:{loginGoogle:function(t){var e,n;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return e=t.commit,n=t.state,a.next=3,regeneratorRuntime.awrap(De.loadApi(n.const.clientID,n.const.APIKey));case 3:if(De.isSignedIn()){a.next=16;break}return a.prev=4,a.next=7,regeneratorRuntime.awrap(De.signIn());case 7:e("assign",{k:"userGdf",v:new De}),e("assign",{k:"isSignedInGoogle",v:!0}),a.next=14;break;case 11:a.prev=11,a.t0=a["catch"](4),alert("Cannot sign in Google");case 14:a.next=18;break;case 16:e("assign",{k:"userGdf",v:new De}),n.userGdf.requestWithAuth("GET","https://www.googleapis.com/drive/v3/about",{fields:"user"}).then((function(t){e("assign2",{k1:"user",k2:"gmail",v:JSON.parse(t).user.emailAddress}),e("assign",{k:"isSignedInGoogle",v:!0})})).catch((function(t){console.log(t)}));case 18:case"end":return a.stop()}}),null,null,[[4,11]])},loginMetaMask:function(t){var e,n;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:if(e=t.commit,window.ethereum&&window.ethereum.isMetaMask){a.next=5;break}alert("Please install MetaMask\nhttps://metamask.io/"),a.next=18;break;case 5:return a.prev=5,a.next=8,regeneratorRuntime.awrap(window.ethereum.enable());case 8:n=a.sent,window.ethereum.on("accountsChanged",(function(t){alert("アカウントが切り替わりました。再読み込みします。"),t[0]!=n[0]&&location.reload()})),e("assign2",{k1:"user",k2:"address",v:n[0]}),e("assign",{k:"isSignedInMetaMask",v:!0}),a.next=18;break;case 14:a.prev=14,a.t0=a["catch"](5),console.log(a.t0),alert("Cannot sign in MetaMask");case 18:case"end":return a.stop()}}),null,null,[[5,14]])},initialLoad:function(t){var e,n,a;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return t.commit,e=t.state,n=t.dispatch,r.prev=1,r.next=4,regeneratorRuntime.awrap(e.userGdf.readdir("/CMC"));case 4:if(r.t0=!r.sent,!r.t0){r.next=7;break}r.t0=confirm("Make ./CMC in your GoogleDrive, OK?");case 7:if(!r.t0){r.next=10;break}return r.next=10,regeneratorRuntime.awrap(e.userGdf.mkdir("/CMC/"));case 10:return r.next=12,regeneratorRuntime.awrap(x([{from:e.user.address,to:e.const.contractAddr,data:"0x".concat(O("isExistUserData")).concat(f(e.user.address))}]));case 12:if(a=r.sent,p(a[0])){r.next=20;break}return r.next=16,regeneratorRuntime.awrap(k([{from:e.user.address,to:e.const.contractAddr,data:"0x".concat(O("setUserData")).concat(c(2,"Test Account")).concat(c(2,e.user.gmail))}]));case 16:return r.next=18,regeneratorRuntime.awrap(n("initialLoad"));case 18:r.next=26;break;case 20:return r.next=22,regeneratorRuntime.awrap(n("getMyData"));case 22:return r.next=24,regeneratorRuntime.awrap(n("tokenLoad"));case 24:return r.next=26,regeneratorRuntime.awrap(n("notice"));case 26:r.next=31;break;case 28:r.prev=28,r.t1=r["catch"](1),console.log(r.t1);case 31:case"end":return r.stop()}}),null,null,[[1,28]])},getMyData:function(t){var e,n,a;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return e=t.commit,n=t.state,t.dispatch,r.prev=1,r.next=4,regeneratorRuntime.awrap(x([{from:n.user.address,to:n.const.contractAddr,data:"0x".concat(O("getUserData")).concat(f(n.user.address))}]));case 4:return a=r.sent,e("assign2",{k1:"user",k2:"name",v:l(a.slice(0,2))}),e("assign2",{k1:"user",k2:"gmailOnChain",v:l(a.slice(2,4))}),r.next=9,regeneratorRuntime.awrap(x([{from:n.user.address,to:n.const.contractAddr,data:"0x".concat(O("balanceOf")).concat(f(n.user.address))}]));case 9:a=r.sent,e("assign2",{k1:"user",k2:"balance",v:d(a[0])}),r.next=16;break;case 13:r.prev=13,r.t0=r["catch"](1),console.log(r.t0);case 16:case"end":return r.stop()}}),null,null,[[1,13]])},tokenLoad:function(t){var e;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return t.commit,t.state,e=t.dispatch,n.prev=1,n.next=4,regeneratorRuntime.awrap(e("loadPublications"));case 4:return n.next=6,regeneratorRuntime.awrap(e("loadPurchases"));case 6:return n.next=8,regeneratorRuntime.awrap(e("loadFavorites2"));case 8:return n.next=10,regeneratorRuntime.awrap(e("loadRecent"));case 10:n.next=15;break;case 12:n.prev=12,n.t0=n["catch"](1),console.log(n.t0);case 15:case"end":return n.stop()}}),null,null,[[1,12]])},loadPurchases:function(t){var e,n,a,r,s;return regeneratorRuntime.async((function(o){while(1)switch(o.prev=o.next){case 0:return e=t.commit,n=t.state,a=t.dispatch,o.prev=1,o.next=4,regeneratorRuntime.awrap(x([{from:n.user.address,to:n.const.contractAddr,data:"0x".concat(O("getUserPurchased")).concat(f(n.user.address))}]));case 4:if(r=o.sent,!(r.length>2)){o.next=10;break}return o.next=8,regeneratorRuntime.awrap(a("genTokenList",r.slice(2)));case 8:s=o.sent,e("assign2",{k1:"tokens",k2:"purchases",v:s});case 10:o.next=15;break;case 12:o.prev=12,o.t0=o["catch"](1),console.log(o.t0);case 15:case"end":return o.stop()}}),null,null,[[1,12]])},loadPublications:function(t){var e,n,a,r,s;return regeneratorRuntime.async((function(o){while(1)switch(o.prev=o.next){case 0:return e=t.commit,n=t.state,a=t.dispatch,o.prev=1,o.next=4,regeneratorRuntime.awrap(x([{from:n.user.address,to:n.const.contractAddr,data:"0x".concat(O("getUserPublications")).concat(f(n.user.address))}]));case 4:if(r=o.sent,!(r.length>2)){o.next=10;break}return o.next=8,regeneratorRuntime.awrap(a("genTokenList",r.slice(2)));case 8:s=o.sent,e("assign2",{k1:"tokens",k2:"publications",v:s});case 10:o.next=15;break;case 12:o.prev=12,o.t0=o["catch"](1),console.log(o.t0);case 15:case"end":return o.stop()}}),null,null,[[1,12]])},loadFavorites:function(t){var e,n,a,r,s,o;return regeneratorRuntime.async((function(i){while(1)switch(i.prev=i.next){case 0:return e=t.commit,n=t.state,a=t.dispatch,i.prev=1,i.next=4,regeneratorRuntime.awrap(P([{fromBlock:"0x0",toBlock:"latest",address:n.const.contractAddr,topics:["0x".concat(n.const.eventSel.Favorite),"0x".concat(f(n.user.address))]}]));case 4:if(r=i.sent,!(r.length>0)){i.next=11;break}return s=r.map((function(t){return f(t[2])})),i.next=9,regeneratorRuntime.awrap(a("genTokenList",s));case 9:o=i.sent,e("assign2",{k1:"tokens",k2:"favorites",v:o});case 11:i.next=16;break;case 13:i.prev=13,i.t0=i["catch"](1),console.log(i.t0);case 16:case"end":return i.stop()}}),null,null,[[1,13]])},loadFavorites2:function(t){var e,n,a,r;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:if(e=t.commit,n=t.state,a=t.dispatch,s.prev=1,e("getFavo"),!(n.favos.length>0)){s.next=8;break}return s.next=6,regeneratorRuntime.awrap(a("genTokenList",n.favos));case 6:r=s.sent,e("assign2",{k1:"tokens",k2:"favorites",v:r});case 8:s.next=13;break;case 10:s.prev=10,s.t0=s["catch"](1),console.log(s.t0);case 13:case"end":return s.stop()}}),null,null,[[1,10]])},loadRecent:function(t){var e,n,a,r,s,o;return regeneratorRuntime.async((function(i){while(1)switch(i.prev=i.next){case 0:return e=t.commit,n=t.state,a=t.dispatch,i.prev=1,i.next=4,regeneratorRuntime.awrap(P([{fromBlock:"0x0",toBlock:"latest",address:n.const.contractAddr,topics:["0x".concat(n.const.eventSel.Publish)]}]));case 4:if(r=i.sent,!(r.length>0)){i.next=11;break}return s=r.map((function(t){return f(t[2])})),i.next=9,regeneratorRuntime.awrap(a("genTokenList",s));case 9:o=i.sent,e("assign2",{k1:"tokens",k2:"recent",v:o});case 11:i.next=16;break;case 13:i.prev=13,i.t0=i["catch"](1),console.log(i.t0);case 16:case"end":return i.stop()}}),null,null,[[1,13]])},genTokenList:function(t,e){var n,a,r,s,o,i,c,u,f;return regeneratorRuntime.async((function(v){while(1)switch(v.prev=v.next){case 0:t.commit,n=t.state,a=[],v.prev=2,r=!0,s=!1,o=void 0,v.prev=6,i=e[Symbol.iterator]();case 8:if(r=(c=i.next()).done){v.next=17;break}return u=c.value,v.next=12,regeneratorRuntime.awrap(x([{from:n.user.address,to:n.const.contractAddr,data:"0x".concat(O("getTokenData")).concat(m(u))}]));case 12:f=v.sent,a.push({id:u,creater:g(f[0]),price:d(f[1]),genre:b(f[2]),origin:p(f[3])?"0x".concat(f[3]):"",title:l(f.slice(4,6)),mainFile:l(f.slice(6,8)),subFile:l(f.slice(8,10)),desc:l(f.slice(8))});case 14:r=!0,v.next=8;break;case 17:v.next=23;break;case 19:v.prev=19,v.t0=v["catch"](6),s=!0,o=v.t0;case 23:v.prev=23,v.prev=24,r||null==i.return||i.return();case 26:if(v.prev=26,!s){v.next=29;break}throw o;case 29:return v.finish(26);case 30:return v.finish(23);case 31:return v.abrupt("return",a.reverse());case 34:throw v.prev=34,v.t1=v["catch"](2),console.log(v.t1),"Fail to get Token Data";case 38:case"end":return v.stop()}}),null,null,[[2,34],[6,19,23,31],[24,,26,30]])},addPermission:function(t,e,n){var a;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return t.commit,t.dispatch,a=t.state,r.prev=1,r.next=4,regeneratorRuntime.awrap(a.userGdf.requestWithAuth("POST","https://www.googleapis.com/drive/v3/files/".concat(e,"/permissions"),{},{"Content-Type":"application/json"},JSON.stringify({role:"reader",type:"user",emailAddress:n})));case 4:r.next=9;break;case 6:r.prev=6,r.t0=r["catch"](1),console.log(r.t0);case 9:case"end":return r.stop()}}),null,null,[[1,6]])},notice:function(t){var e,n,a,r,s,o,i,c,u,d,g,v,b;return regeneratorRuntime.async((function(m){while(1)switch(m.prev=m.next){case 0:return t.commit,e=t.dispatch,n=t.state,m.prev=1,m.next=4,regeneratorRuntime.awrap(P([{fromBlock:"0x0",toBlock:"latest",address:n.const.contractAddr,topics:["0x".concat(n.const.eventSel.Purchase),[],[],"0x".concat(f(n.user.address))]}]));case 4:if(a=m.sent,!(a.length>0)){m.next=45;break}r=a.filter((function(t){var e;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,regeneratorRuntime.awrap(x([{from:n.user.address,to:n.const.contractAddr,data:"0x".concat(O("isPermitted")).concat(f(t[1])).concat(t[2].slice(2))}]));case 2:return e=a.sent,a.abrupt("return",!p(e[0]));case 4:case"end":return a.stop()}}))})),s=!0,o=!1,i=void 0,m.prev=10,c=r[Symbol.iterator]();case 12:if(s=(u=c.next()).done){m.next=31;break}if(d=u.value,!confirm("".concat(d[2]," の閲覧を許可しますか?"))){m.next=28;break}return m.next=17,regeneratorRuntime.awrap(k([{from:n.user.address,to:n.const.contractAddr,data:"0x".concat(O("permit")).concat(f(d[1])).concat(d[2].slice(2))}]));case 17:return m.next=19,regeneratorRuntime.awrap(x([{from:n.user.address,to:n.const.contractAddr,data:"0x".concat(O("getDataforPermit")).concat(f(d[1])).concat(d[2].slice(2))}]));case 19:if(g=m.sent,v=l(g.slice(0,2)),b=l(g.slice(2,4)),v==n.user.gmail){m.next=27;break}return m.next=25,regeneratorRuntime.awrap(e("addPermission",b,v));case 25:m.next=28;break;case 27:console.log("同じアドレス（アカウント）なので共有完了");case 28:s=!0,m.next=12;break;case 31:m.next=37;break;case 33:m.prev=33,m.t0=m["catch"](10),o=!0,i=m.t0;case 37:m.prev=37,m.prev=38,s||null==c.return||c.return();case 40:if(m.prev=40,!o){m.next=43;break}throw i;case 43:return m.finish(40);case 44:return m.finish(37);case 45:m.next=50;break;case 47:m.prev=47,m.t1=m["catch"](1),console.log(m.t1);case 50:case"end":return m.stop()}}),null,null,[[1,47],[10,33,37,45],[38,,40,44]])}}});n("ab8b"),n("4989");a["a"].config.productionTip=!1,new a["a"]({store:Ee,render:function(t){return t(Me)}}).$mount("#app")},"5add":function(t,e,n){},7442:function(t,e,n){"use strict";var a=n("0569"),r=n.n(a);r.a},"75b0":function(t,e,n){"use strict";var a=n("486c"),r=n.n(a);r.a},"810a":function(t,e,n){},"85ec":function(t,e,n){},"9f66":function(t,e,n){"use strict";var a=n("5add"),r=n.n(a);r.a},"9f7e":function(t,e,n){},a327:function(t,e,n){},aa8e:function(t,e,n){"use strict";var a=n("9f7e"),r=n.n(a);r.a},b20f:function(t,e,n){"use strict";var a=n("e73d"),r=n.n(a);r.a},c51d:function(t,e,n){},cf05:function(t,e,n){t.exports=n.p+"img/logo.82b9c7a5.png"},d0cf:function(t,e,n){},dcce:function(t,e,n){"use strict";var a=n("c51d"),r=n.n(a);r.a},e73d:function(t,e,n){},e7b4:function(t,e,n){"use strict";var a=n("1b5a"),r=n.n(a);r.a},eae1:function(t,e,n){},fa1a:function(t,e,n){"use strict";var a=n("a327"),r=n.n(a);r.a}});
//# sourceMappingURL=app.53dc9ce5.js.map